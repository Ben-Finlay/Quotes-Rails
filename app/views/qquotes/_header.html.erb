
<section class="header">

<div id="clock" onload= "currentTime()" >
</div>

<div id="spin" onclick="window.location.reload()">
<%= image_tag "pngegg.png", height: 20, width: 20 %>
</div>


<div id="weather">

&nbsp;&nbsp; <%= @city %> &nbsp;&nbsp;

<%= image_tag @icon, height: 30, width: 30 %> &nbsp;&nbsp; <%= @temp_rnd %>Â°C


</div>

</section>

<script>

function currentTime() {
  let date = new Date(); 
  let hh = date.getHours();
  let mm = date.getMinutes();
  let ss = date.getSeconds();
  let session = hh >= 12 ? 'PM' : 'AM'

  hh = hh % 12;
  hh = hh ? hh : 12;

  hh = (hh < 10) ? "0" + hh : hh;
  mm = (mm < 10) ? "0" + mm : mm;
  ss = (ss < 10) ? "0" + ss : ss;
    
  let time = hh + ":" + mm + ":" + ss + " " + session;

  document.getElementById("clock").innerText = time; 
  let t = setTimeout(function(){ currentTime() }, 1000);
}

currentTime();

</script>
